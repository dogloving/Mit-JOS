TRAPHANDLER_NOEC(routine_divide,T_DIVIDE)
TRAPHANDLER_NOEC(routine_debug,T_DEBUG)
TRAPHANDLER_NOEC(routine_nmi,T_NMI)
TRAPHANDLER_NOEC(routine_brkpt,T_BRKPT)
TRAPHANDLER_NOEC(routine_oflow,T_OFLOW)
TRAPHANDLER_NOEC(routine_bound,T_BOUND)
TRAPHANDLER_NOEC(routine_illop,T_ILLOP)
TRAPHANDLER_NOEC(routine_device,T_DEVICE)
TRAPHANDLER(routine_dblflt,T_DBLFLT)
TRAPHANDLER(routine_tss,T_TSS)
TRAPHANDLER(routine_segnp,T_SEGNP)
TRAPHANDLER(routine_stack,T_STACK)
TRAPHANDLER(routine_gpflt,T_GPFLT)
TRAPHANDLER(routine_pgflt,T_PGFLT)
TRAPHANDLER_NOEC(routine_fperr,T_FPERR)
TRAPHANDLER(routine_align,T_ALIGN)
TRAPHANDLER_NOEC(routine_mchk,T_MCHK)
TRAPHANDLER_NOEC(routine_simderr,T_SIMDERR)

extern void routine_divide();
extern void routine_debug();
extern void routine_nmi();
extern void routine_brkpt();
extern void routine_oflow();
extern void routine_bound();
extern void routine_illop();
extern void routine_device();
extern void routine_dblflt();
extern void routine_tss();
extern void routine_segnp();
extern void routine_stack();
extern void routine_gpflt();
extern void routine_pgflt();
extern void routine_fperr();
extern void routine_align();
extern void routine_mchk();
extern void routine_simderr(); 
SETGATE(idt[T_DIVIDE],0,GD_KT,routine_divide,0);
SETGATE(idt[T_DEBUG],0,GD_KT,routine_debug,0);
SETGATE(idt[T_NMI],0,GD_KT,routine_nmi,0);
//breakpointneedsnokernelmodeprivilege 
SETGATE(idt[T_BRKPT],0,GD_KT,routine_brkpt,3);
SETGATE(idt[T_OFLOW],0,GD_KT,routine_oflow,0);
SETGATE(idt[T_BOUND],0,GD_KT,routine_bound,0);
SETGATE(idt[T_ILLOP],0,GD_KT,routine_illop,0);
SETGATE(idt[T_DEVICE],0,GD_KT,routine_device,0);
SETGATE(idt[T_DBLFLT],0,GD_KT,routine_dblflt,0);
SETGATE(idt[T_TSS],0,GD_KT,routine_tss,0); 
SETGATE(idt[T_SEGNP],0,GD_KT,routine_segnp,0);
SETGATE(idt[T_STACK],0,GD_KT,routine_stack,0);
SETGATE(idt[T_GPFLT],0,GD_KT,routine_gpflt,0);
SETGATE(idt[T_PGFLT],0,GD_KT,routine_pgflt,0);
SETGATE(idt[T_FPERR],0,GD_KT,routine_fperr,0);
SETGATE(idt[T_ALIGN],0,GD_KT,routine_align,0);
SETGATE(idt[T_MCHK],0,GD_KT,routine_mchk,0); 
SETGATE (idt[T_SIMDERR],0,GD_KT,routine_simderr,0);
